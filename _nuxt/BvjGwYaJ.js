import{V as ye,$ as ie,ap as qe,aq as ke,ar as Ie,X as be,r as C,k as N,as as Pe,at as Ce,a0 as Ue,au as Ve,av as Te,a6 as ne,e as de,aw as ce,ax as ue,ay as Ae,h as X,a1 as Se,Z as se,az as Oe,aA as De,aB as Ee,aC as Le,aD as Ne,L as Y,C as r,K as B,aa as $e,y as R,z as n,B as t,Q as Be,A as m,D as O,al as Re,_ as Me,N as je,x as me,T as H,O as He,aE as z,aF as ze,P as Fe,S as Ke,a9 as We}from"./B3zBrxXe.js";import{u as Qe}from"./VFKzJGC2.js";import{_ as Ge}from"./DlAUqK2U.js";import{_ as Ye}from"./C4Zh5Z_U.js";import{v as Xe,a as fe,u as Ze,p as ve,b as Je,c as eo,d as oo,r as ge,s as to,_ as lo}from"./CyJl36mf.js";import{_ as ao}from"./5RIGH8K1.js";import{c as pe}from"./DU82BNjb.js";import{_ as ro}from"./CdL0TYX9.js";import"./Dm_dgl5M.js";import"./CkZ4JQJy.js";import"./CoaQEihs.js";import"./C1KhR3iJ.js";const io=ye({name:"QTooltip",inheritAttrs:!1,props:{...Ze,...Ie,...ie,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ie.transitionShow,default:"jump-down"},transitionHide:{...ie.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:fe},self:{type:String,default:"top middle",validator:fe},offset:{type:Array,default:()=>[14,14],validator:Xe},scrollTarget:ke,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...qe],setup(i,{slots:u,emit:f,attrs:k}){let y,p;const D=be(),{proxy:{$q:b}}=D,o=C(null),v=C(!1),w=N(()=>ve(i.anchor,b.lang.rtl)),g=N(()=>ve(i.self,b.lang.rtl)),$=N(()=>i.persistent!==!0),{registerTick:_,removeTick:A}=Pe(),{registerTimeout:I}=Ce(),{transitionProps:F,transitionStyle:K}=Ue(i),{localScrollTarget:M,changeScrollEvent:Z,unconfigureScrollTarget:J}=Je(i,E),{anchorEl:U,canShow:ee,anchorEvents:L}=eo({showing:v,configureAnchorEl:x}),{show:oe,hide:j}=Ve({showing:v,canShow:ee,handleShow:le,handleHide:ae,hideOnRouteChange:$,processOnMount:!0});Object.assign(L,{delayShow:c,delayHide:s});const{showPortal:W,hidePortal:Q,renderPortal:te}=Te(D,o,S,"tooltip");if(b.platform.is.mobile===!0){const d={anchorEl:U,innerRef:o,onClickOutside(h){return j(h),h.target.classList.contains("q-dialog__backdrop")&&Oe(h),!0}},P=N(()=>i.modelValue===null&&i.persistent!==!0&&v.value===!0);ne(P,h=>{(h===!0?oo:ge)(d)}),de(()=>{ge(d)})}function le(d){W(),_(()=>{p=new MutationObserver(()=>e()),p.observe(o.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),e(),E()}),y===void 0&&(y=ne(()=>b.screen.width+"|"+b.screen.height+"|"+i.self+"|"+i.anchor+"|"+b.lang.rtl,e)),I(()=>{W(!0),f("show",d)},i.transitionDuration)}function ae(d){A(),Q(),a(),I(()=>{Q(!0),f("hide",d)},i.transitionDuration)}function a(){p!==void 0&&(p.disconnect(),p=void 0),y!==void 0&&(y(),y=void 0),J(),ce(L,"tooltipTemp")}function e(){to({targetEl:o.value,offset:i.offset,anchorEl:U.value,anchorOrigin:w.value,selfOrigin:g.value,maxHeight:i.maxHeight,maxWidth:i.maxWidth})}function c(d){if(b.platform.is.mobile===!0){pe(),document.body.classList.add("non-selectable");const P=U.value,h=["touchmove","touchcancel","touchend","click"].map(V=>[P,V,"delayHide","passiveCapture"]);ue(L,"tooltipTemp",h)}I(()=>{oe(d)},i.delay)}function s(d){b.platform.is.mobile===!0&&(ce(L,"tooltipTemp"),pe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),I(()=>{j(d)},i.hideDelay)}function x(){if(i.noParentEvent===!0||U.value===null)return;const d=b.platform.is.mobile===!0?[[U.value,"touchstart","delayShow","passive"]]:[[U.value,"mouseenter","delayShow","passive"],[U.value,"mouseleave","delayHide","passive"]];ue(L,"anchor",d)}function E(){if(U.value!==null||i.scrollTarget!==void 0){M.value=Ae(U.value,i.scrollTarget);const d=i.noParentEvent===!0?e:j;Z(M.value,d)}}function q(){return v.value===!0?X("div",{...k,ref:o,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",k.class],style:[k.style,K.value],role:"tooltip"},se(u.default)):null}function S(){return X(Se,F.value,q)}return de(a),Object.assign(D.proxy,{updatePosition:e}),te}}),no=ye({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(i,{slots:u}){const f=be(),k=N(()=>"q-td"+(i.autoWidth===!0?" q-table--col-auto-width":"")+(i.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(i.props===void 0)return X("td",{class:k.value},se(u.default));const y=f.vnode.key,p=(i.props.colsMap!==void 0?i.props.colsMap[y]:null)||i.props.col;if(p===void 0)return;const{row:D}=i.props;return X("td",{class:k.value+p.__tdClass(D),style:p.__tdStyle(D)},se(u.default))}}});function _e(i){if(i===!1)return 0;if(i===!0||i===void 0)return 1;const u=parseInt(i,10);return isNaN(u)?0:u}const so=De({name:"close-popup",beforeMount(i,{value:u}){const f={depth:_e(u),handler(k){f.depth!==0&&setTimeout(()=>{const y=Le(i);y!==void 0&&Ne(y,k,f.depth)})},handlerKey(k){Ee(k,13)===!0&&f.handler(k)}};i.__qclosepopup=f,i.addEventListener("click",f.handler),i.addEventListener("keyup",f.handlerKey)},updated(i,{value:u,oldValue:f}){u!==f&&(i.__qclosepopup.depth=_e(u))},beforeUnmount(i){const u=i.__qclosepopup;i.removeEventListener("click",u.handler),i.removeEventListener("keyup",u.handlerKey),delete i.__qclosepopup}}),co={class:"q-mb-md row items-center justify-between"},uo={class:"row items-center"},mo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"120px",display:"inline-block"}},fo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"120px",display:"inline-block"}},vo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"90px",display:"inline-block"}},go={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},po=["href"],_o=["href"],yo=["src"],bo=["src"],ho={class:"text-h6"},wo={key:0},xo={class:"row q-gutter-md items-center q-mb-md"},qo={class:"col-auto"},ko=["src"],Io=["src"],Po={class:"text-subtitle1"},Co={class:"text-h6 text-negative"},Uo={class:"row q-gutter-md"},Vo={class:"col-3"},To=["src"],Ao={class:"col-9"},So={class:"row q-gutter-y-sm"},Oo={class:"col-12"},Do={class:"text-weight-bold text-h6"},Eo={class:"col-6"},Lo={class:"text-body2"},No={class:"col-6"},$o={class:"text-body2"},Bo={class:"col-12"},Ro={class:"text-body2 text-weight-bold text-primary"},Mo={class:"col-12"},jo={class:"text-body2",style:{"max-height":"60px",overflow:"hidden","text-overflow":"ellipsis"}},Ho={class:"col-12"},zo={class:"text-body2",style:{"max-height":"60px",overflow:"hidden","text-overflow":"ellipsis"}},Fo=["href"],Ko={class:"text-weight-bold text-h6 q-mb-sm"},Wo={class:"text-caption text-grey-6"},Qo={class:"text-caption text-grey-6"},Go={class:"text-caption text-grey-6"},Yo={__name:"recommend-products",setup(i){const u=C([{label:"ì „ì²´",value:"ì „ì²´",categoryId:0,order:0}]),f=C("ì „ì²´"),k=[{name:"num",label:"ë²ˆí˜¸",field:a=>"",align:"center",sortable:!1,style:"min-width:60px;"},{name:"category",label:"ì¹´í…Œê³ ë¦¬",field:"category",align:"center",sortable:!0,style:"min-width:100px;"},{name:"aliProductId",label:"Ali ìƒí’ˆ ID",field:"aliProductId",align:"center",sortable:!0,style:"min-width:120px;"},{name:"name",label:"ìƒí’ˆ ì´ë¦„",field:"name",align:"center",sortable:!0,style:"min-width:120px;"},{name:"code",label:"ìƒí’ˆ ë²ˆí˜¸",field:"code",align:"center",sortable:!0,style:"min-width:90px;"},{name:"desc",label:"ìƒí’ˆ ì„¤ëª…",field:"desc",align:"center",style:"min-width:180px;"},{name:"url",label:"ìƒí’ˆ URL",field:"url",align:"center",style:"min-width:180px;"},{name:"promotionUrl",label:"í”„ë¡œëª¨ì…˜ URL",field:"promotionUrl",align:"center",style:"min-width:180px;"},{name:"image",label:"ìƒí’ˆ ì´ë¯¸ì§€",field:"image",align:"center",style:"min-width:70px;"},{name:"price",label:"ê°€ê²©",field:"price",align:"center",sortable:!0,style:"min-width:80px;"},{name:"actions",label:"ê´€ë¦¬",field:"actions",align:"center"}];async function y(){var a,e,c;console.log("ðŸ” fetchProducts ì‹œìž‘"),console.log("ðŸ” í˜„ìž¬ í™˜ê²½:",{processClient:!0,nodeEnv:"production",hostname:window.location.hostname});try{const s=u.value.find(d=>d.value===f.value),E={categoryId:s?s.categoryId:0,limit:b.value.rowsPerPage,offset:(b.value.page-1)*b.value.rowsPerPage};console.log("ðŸ” API_BASE ê°’:",I.value),console.log("ðŸ” config ì„¤ì •:",A.config.value);const q=`${I.value}/recommended/product/list`;F("ìƒí’ˆ ëª©ë¡ ìš”ì²­",{url:q,method:"POST",payload:E}),console.log("ðŸ” ì‹¤ì œ ìš”ì²­ URL:",q),console.log("ðŸ” ìš”ì²­ payload:",E);const S=await B.post(q,E,{withCredentials:!0});K("ìƒí’ˆ ëª©ë¡ ì‘ë‹µ",S.data),Array.isArray(S.data)?(console.log("Fetched products:",S.data),p.value=S.data.map(d=>{console.log("ðŸ” Product Category Mapping:",{productCategoryId:d.categoryId,productCategoryIdType:typeof d.categoryId,convertedCategoryId:Number(d.categoryId),availableCategories:u.value.map(T=>({categoryId:T.categoryId,categoryIdType:typeof T.categoryId,label:T.label}))});const P=Number(d.categoryId),h=u.value.find(T=>T.categoryId===P),V=h?h.label:"ê¸°íƒ€";return console.log("ðŸ“‹ Category Mapping Result:",{productCategoryId:d.categoryId,convertedCategoryId:Number(d.categoryId),foundCategoryOption:h,finalCategoryLabel:V}),{seq:d.seq,category:V,aliProductId:d.aliProductId||"",name:d.productName,code:d.productId,desc:d.productDesc,url:d.productUrl,promotionUrl:d.promotionUrl,image:d.imageUrl,price:`${d.price.toLocaleString()}ì›`}})):(console.error("Invalid response format:",S.data),p.value=[])}catch(s){M("ìƒí’ˆ ëª©ë¡ ìš”ì²­ ì‹¤íŒ¨",s),console.error("ðŸ” ìƒì„¸ ì—ëŸ¬ ì •ë³´:",{message:s.message,status:(a=s.response)==null?void 0:a.status,statusText:(e=s.response)==null?void 0:e.statusText,data:(c=s.response)==null?void 0:c.data}),_.notify({type:"negative",message:"ìƒí’ˆ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."}),p.value=[]}}const p=C([]),D=N(()=>f.value==="ì „ì²´"?p.value:p.value.filter(a=>a.category===f.value)),b=C({page:1,rowsPerPage:20}),o=C({visible:!1,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1}),v=C({visible:!1,row:null}),w=C({visible:!1,mode:"add"}),g=C({visible:!1,row:null}),$=C(!1),_=$e(),A=Qe(),I=N(()=>A.apiBase.value?(console.log("âœ… API_BASE ì‚¬ìš©:",A.apiBase.value),A.apiBase.value):window.location.hostname==="localhost"?(console.log("ðŸ”„ Localhost fallback ì‚¬ìš©: https://localhost:9443"),"https://localhost:9443"):(console.log("ðŸ”„ Production fallback ì‚¬ìš©: https://dev.deallow.kr:9443"),"https://dev.deallow.kr:9443")),F=(a,e)=>{var c;(c=A.config.value)!=null&&c.enableApiLogs&&console.log(`ðŸ“¡ ${a}:`,e)},K=(a,e)=>{var c;(c=A.config.value)!=null&&c.enableApiLogs&&console.log(`ðŸ“¡ ${a}:`,e)},M=(a,e)=>{var c;(c=A.config.value)!=null&&c.enableApiLogs&&console.error(`âŒ ${a}:`,e)};async function Z(){try{const a=`${I.value}/recommended/category/list`;F("ì¹´í…Œê³ ë¦¬ ìš”ì²­",{url:a,method:"POST"});const e=await B.post(a,{},{withCredentials:!0});K("ì¹´í…Œê³ ë¦¬ ì‘ë‹µ",e.data),Array.isArray(e.data)&&(console.log("ðŸ“‚ Fetched Categories:",e.data),u.value=[{label:"ì „ì²´",value:"ì „ì²´",categoryId:0,order:0},...e.data.map(c=>({label:c.categoryName,value:c.categoryName,categoryId:Number(c.categoryId),order:c.order}))],console.log("âœ… Final CATEGORY_OPTIONS:",u.value))}catch(a){M("ì¹´í…Œê³ ë¦¬ ìš”ì²­ ì‹¤íŒ¨",a)}}Z(),y(),ne([f,()=>b.value.page,()=>b.value.rowsPerPage],()=>{y()});function J(){if(!o.value.form.url){_.notify({type:"warning",message:"ìƒí’ˆ URLì„ ìž…ë ¥í•˜ì„¸ìš”."});return}const a=u.value.find(c=>c.value===o.value.form.category),e=a?a.categoryId:0;B.post(`${I.value}/recommended/get/product/detail`,{categoryName:o.value.form.category,categoryId:e,productUrl:o.value.form.url,productName:o.value.form.name},{withCredentials:!0}).then(c=>{if(console.log(c.data),c.data&&c.data.result===!0){const s=c.data;o.value.form.image=s.productMainImageUrl,o.value.form.code=s.productId,o.value.form.desc=s.productTitle,o.value.form.price=s.targetSalePrice,o.value.form.affiliateUrl=s.promotionLink,o.value.infoVisible=!0}else _.dialog({title:"ì•Œë¦¼",message:"ìƒí’ˆ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"}),o.value.infoVisible=!1}).catch(()=>{_.dialog({title:"ì•Œë¦¼",message:"ìƒí’ˆ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"}),o.value.infoVisible=!1})}function U(){if(o.value.mode==="add"){if(!o.value.infoVisible){_.notify({type:"warning",message:"ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì„¸ìš”."});return}w.value={visible:!0,mode:"add"}}else{if(!o.value.infoVisible){_.notify({type:"warning",message:"ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì„¸ìš”."});return}w.value={visible:!0,mode:"edit"}}}function ee(){const a=u.value.find(s=>s.value===o.value.form.category),e=a?a.categoryId:0,c={categoryName:o.value.form.category,categoryId:e,productName:o.value.form.name||`ìƒí’ˆ${p.value.length+1}`,productId:o.value.form.code,productdesc:o.value.form.desc,productUrl:o.value.form.url,imageUrl:o.value.form.image,price:o.value.form.price,affiliateUrl:o.value.form.affiliateUrl};B.post(`${I.value}/recommended/add/product`,c,{withCredentials:!0}).then(s=>{s.data&&s.data.result===!0?(_.dialog({title:"ì„±ê³µ",message:"ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"primary"}),o.value={visible:!1,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1},w.value={visible:!1,mode:"add"},y()):_.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}).catch(()=>{_.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})})}function L(){console.log("ðŸ”§ Confirm Action:",w.value.mode),w.value.mode==="add"?ee():w.value.mode==="edit"&&oe()}function oe(){console.log("ðŸ”§ Modify Product Called"),console.log("ðŸ“‹ Dialog Form:",o.value.form);const a=u.value.find(s=>s.value===o.value.form.category),e=a?a.categoryId:0,c={categoryName:o.value.form.category,categoryId:e,productName:o.value.form.name||`ìƒí’ˆ${p.value.length+1}`,productId:o.value.form.code,productdesc:o.value.form.desc,productUrl:o.value.form.url,imageUrl:o.value.form.image,price:o.value.form.price,affiliateUrl:o.value.form.affiliateUrl};console.log("ðŸš€ Sending Modify Request:",c),B.post(`${I.value}/recommended/modify/product`,c,{withCredentials:!0}).then(s=>{s.data&&s.data.result===!0?(_.dialog({title:"ì„±ê³µ",message:"ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"primary"}),o.value={visible:!1,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1},w.value={visible:!1,mode:"add"},y()):_.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}).catch(()=>{_.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})})}function j(){o.value={visible:!0,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1},w.value={visible:!1,mode:"add"}}function W(a){o.value={visible:!0,mode:"edit",form:{seq:a.seq,category:a.category,name:a.name,code:a.code,desc:a.desc,url:a.url,image:a.image,price:a.price,affiliateUrl:a.promotionUrl||a.affiliateUrl||""},infoVisible:!0},w.value={visible:!1,mode:"edit"}}function Q(a){v.value={visible:!0,row:a},g.value={visible:!1,row:null}}function te(){v.value.row&&(v.value.visible=!1,We(()=>{g.value={visible:!0,row:v.value.row}}))}function le(a){console.log("ðŸ” Getting categoryId for:",a),console.log("ðŸ“‹ Available categories:",u.value);const e=u.value.find(s=>s.label===a),c=e?e.categoryId:0;return console.log("âœ… Found categoryId:",c,"for category:",a),c}async function ae(){if(g.value.row){$.value=!0;try{console.log("ðŸ—‘ï¸ Executing Delete Product:",g.value.row);const a=await B.post(`${I.value}/recommended/remove/product`,{productId:g.value.row.code,productName:g.value.row.name,aliProductId:g.value.row.aliProductId,categoryId:le(g.value.row.category)},{withCredentials:!0});console.log("ðŸ—‘ï¸ Delete Response:",a.data),a.data&&a.data.result===!0?(g.value={visible:!1,row:null},_.dialog({title:"ì„±ê³µ",message:"ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"positive"}),y()):_.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}catch(a){console.error("Delete product error:",a),_.dialog({title:"ì˜¤ë¥˜",message:"ìƒí’ˆ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}finally{$.value=!1}}}return C({seq:60,name:120,code:90,desc:180,url:180,image:70,price:80,actions:100}),(a,e)=>{const c=lo,s=Be,x=no,E=ro,q=io,S=ao,d=je,P=He,h=Fe,V=Me,T=Re,re=Ke,he=Ye,we=ze,G=so;return R(),Y(he,{padding:""},{default:r(()=>[n("div",co,[n("div",uo,[t(c,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l),options:u.value,label:"ì¹´í…Œê³ ë¦¬",dense:"",outlined:"",style:{width:"160px","min-width":"120px","margin-right":"12px"},"emit-value":"","map-options":""},null,8,["modelValue","options"]),t(s,{color:"primary",label:"ìƒí’ˆ ì¶”ê°€",onClick:j,class:"q-ml-sm",unelevated:"",rounded:"",icon:"add"})])]),t(S,{rows:D.value,columns:k,"row-key":"code",flat:"",bordered:"",class:"q-mb-md shadow-1 resizable-table","table-col-resize":!0,pagination:b.value,"rows-per-page-options":[10,20,50,100]},{"body-cell-num":r(l=>[t(x,{align:"center"},{default:r(()=>[O(m(l.rowIndex+1),1)]),_:2},1024)]),"body-cell-category":r(l=>[t(x,{align:"center"},{default:r(()=>[t(E,{color:"primary",outline:""},{default:r(()=>[O(m(l.row.category),1)]),_:2},1024)]),_:2},1024)]),"body-cell-aliProductId":r(l=>[t(x,{align:"center"},{default:r(()=>[t(q,null,{default:r(()=>[O(m(l.row.aliProductId),1)]),_:2},1024),n("span",mo,m(l.row.aliProductId),1)]),_:2},1024)]),"body-cell-name":r(l=>[t(x,{align:"center"},{default:r(()=>[t(q,null,{default:r(()=>[O(m(l.row.name),1)]),_:2},1024),n("span",fo,m(l.row.name),1)]),_:2},1024)]),"body-cell-code":r(l=>[t(x,{align:"center"},{default:r(()=>[t(q,null,{default:r(()=>[O(m(l.row.code),1)]),_:2},1024),n("span",vo,m(l.row.code),1)]),_:2},1024)]),"body-cell-desc":r(l=>[t(x,{align:"center"},{default:r(()=>[t(q,null,{default:r(()=>[O(m(l.row.desc),1)]),_:2},1024),n("span",go,m(l.row.desc),1)]),_:2},1024)]),"body-cell-url":r(l=>[t(x,{align:"center"},{default:r(()=>[t(q,null,{default:r(()=>[O(m(l.row.url),1)]),_:2},1024),n("a",{href:l.row.url,target:"_blank",style:{color:"#1976d2","text-decoration":"underline",cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},m(l.row.url),9,po)]),_:2},1024)]),"body-cell-promotionUrl":r(l=>[t(x,{align:"center"},{default:r(()=>[t(q,null,{default:r(()=>[O(m(l.row.promotionUrl),1)]),_:2},1024),n("a",{href:l.row.promotionUrl,target:"_blank",style:{color:"#1976d2","text-decoration":"underline",cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},m(l.row.promotionUrl),9,_o)]),_:2},1024)]),"body-cell-image":r(l=>[t(x,{align:"center"},{default:r(()=>[t(q,{anchor:"top middle",self:"bottom middle"},{default:r(()=>[n("img",{src:l.row.image,style:{"max-width":"200px","max-height":"200px","border-radius":"8px"}},null,8,yo)]),_:2},1024),n("img",{src:l.row.image,style:{width:"40px",height:"40px","object-fit":"cover","border-radius":"6px",cursor:"pointer",border:"1px solid #eee"}},null,8,bo)]),_:2},1024)]),"body-cell-price":r(l=>[t(x,{align:"center"},{default:r(()=>[n("span",null,m(l.row.price),1)]),_:2},1024)]),"body-cell-actions":r(l=>[t(x,{align:"center"},{default:r(()=>[t(s,{size:"sm",color:"primary",flat:"",icon:"edit",onClick:xe=>W(l.row),round:"",dense:""},null,8,["onClick"]),t(s,{size:"sm",color:"negative",flat:"",icon:"delete",onClick:xe=>Q(l.row),round:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:1},8,["rows","pagination"]),t(T,{modelValue:o.value.visible,"onUpdate:modelValue":e[8]||(e[8]=l=>o.value.visible=l)},{default:r(()=>[t(V,{style:{"min-width":"350px","max-width":"90vw"}},{default:r(()=>[t(d,null,{default:r(()=>[n("div",ho,m(o.value.mode==="add"?"ìƒí’ˆ ì¶”ê°€":"ìƒí’ˆ ìˆ˜ì •"),1)]),_:1}),t(d,null,{default:r(()=>[t(c,{modelValue:o.value.form.category,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.form.category=l),options:u.value.filter(l=>l.value!=="ì „ì²´"),label:"ì¹´í…Œê³ ë¦¬",dense:"",outlined:"",class:"q-mb-sm","emit-value":"","map-options":""},null,8,["modelValue","options"]),t(P,{modelValue:o.value.form.url,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.form.url=l),label:"ìƒí’ˆ URL",dense:"",outlined:"",class:"q-mb-sm",autofocus:""},null,8,["modelValue"]),t(P,{modelValue:o.value.form.name,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.form.name=l),label:"ìƒí’ˆëª…",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(s,{color:"primary",label:"ìƒí’ˆ ì •ë³´ ê°€ì ¸ì˜¤ê¸°",class:"q-mb-md",onClick:J,unelevated:""}),o.value.infoVisible?(R(),me("div",wo,[n("div",xo,[n("div",qo,[o.value.form.image?(R(),Y(q,{key:0},{default:r(()=>[n("img",{src:o.value.form.image,style:{width:"220px",height:"220px","object-fit":"contain","border-radius":"12px",border:"1px solid #eee",background:"#fff"}},null,8,ko)]),_:1})):H("",!0),o.value.form.image?z((R(),me("img",{key:1,src:o.value.form.image,style:{width:"60px",height:"60px","object-fit":"cover","border-radius":"8px",border:"1px solid #eee",cursor:"pointer"}},null,8,Io)),[[we]]):H("",!0)])]),t(P,{modelValue:o.value.form.code,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.form.code=l),label:"ìƒí’ˆ ë²ˆí˜¸",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(P,{modelValue:o.value.form.desc,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.form.desc=l),label:"ìƒí’ˆ ì„¤ëª…",dense:"",outlined:"",class:"q-mb-sm",type:"textarea",autogrow:""},null,8,["modelValue"]),t(P,{modelValue:o.value.form.price,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.form.price=l),label:"ìƒí’ˆ ê°€ê²©",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(P,{modelValue:o.value.form.affiliateUrl,"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.form.affiliateUrl=l),label:"ìƒí’ˆ ì œíœ´ URL",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"])])):H("",!0)]),_:1}),t(h,{align:"center",class:"q-gutter-sm q-mt-sm q-mb-md"},{default:r(()=>[z(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[G]]),t(s,{color:"primary",label:o.value.mode==="add"?"ì¶”ê°€":"ìˆ˜ì •",onClick:U,rounded:"",unelevated:"",class:"q-px-lg"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(T,{modelValue:w.value.visible,"onUpdate:modelValue":e[9]||(e[9]=l=>w.value.visible=l)},{default:r(()=>[t(V,null,{default:r(()=>[t(d,{class:"row items-center justify-center"},{default:r(()=>[t(re,{name:"help",color:"primary",class:"q-mr-sm",size:"sm"}),n("span",Po,m(w.value.mode==="add"?"ìƒí’ˆì„ ì¶”ê°€":"ìƒí’ˆì„ ìˆ˜ì •")+" í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",1)]),_:1}),t(h,{align:"center",class:"q-gutter-sm q-mb-md"},{default:r(()=>[z(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[G]]),t(s,{color:"primary",label:"í™•ì¸",onClick:L,rounded:"",unelevated:"",class:"q-px-lg"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(T,{modelValue:v.value.visible,"onUpdate:modelValue":e[11]||(e[11]=l=>v.value.visible=l)},{default:r(()=>[t(V,{style:{"min-width":"400px","max-width":"90vw"}},{default:r(()=>[t(d,null,{default:r(()=>[n("div",Co,[t(re,{name:"delete",color:"negative",class:"q-mr-sm"}),e[13]||(e[13]=O(" ìƒí’ˆ ì‚­ì œ í™•ì¸ "))])]),_:1}),v.value.row?(R(),Y(d,{key:0},{default:r(()=>[e[19]||(e[19]=n("div",{class:"text-subtitle2 q-mb-md"},"ë‹¤ìŒ ìƒí’ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)),n("div",Uo,[n("div",Vo,[n("img",{src:v.value.row.image,style:{width:"100px",height:"100px","object-fit":"cover","border-radius":"8px",border:"1px solid #eee"},onError:e[10]||(e[10]=l=>l.target.src="https://via.placeholder.com/100x100?text=No+Image")},null,40,To)]),n("div",Ao,[n("div",So,[n("div",Oo,[n("div",Do,m(v.value.row.name),1)]),n("div",Eo,[e[14]||(e[14]=n("div",{class:"text-caption text-grey-6"},"ì¹´í…Œê³ ë¦¬",-1)),n("div",Lo,m(v.value.row.category),1)]),n("div",No,[e[15]||(e[15]=n("div",{class:"text-caption text-grey-6"},"ìƒí’ˆ ì½”ë“œ",-1)),n("div",$o,m(v.value.row.code),1)]),n("div",Bo,[e[16]||(e[16]=n("div",{class:"text-caption text-grey-6"},"ê°€ê²©",-1)),n("div",Ro,m(v.value.row.price),1)]),n("div",Mo,[e[17]||(e[17]=n("div",{class:"text-caption text-grey-6"},"ìƒí’ˆ ì„¤ëª…",-1)),n("div",jo,m(v.value.row.desc),1)]),n("div",Ho,[e[18]||(e[18]=n("div",{class:"text-caption text-grey-6"},"í”„ë¡œëª¨ì…˜ URL",-1)),n("div",zo,[n("a",{href:v.value.row.promotionUrl,target:"_blank",style:{color:"#1976d2","text-decoration":"underline"}},m(v.value.row.promotionUrl),9,Fo)])])])])])]),_:1,__:[19]})):H("",!0),t(h,{align:"right",class:"q-gutter-sm q-pa-md"},{default:r(()=>[z(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[G]]),t(s,{color:"negative",label:"ì‚­ì œ",onClick:te,rounded:"",unelevated:"",class:"q-px-lg",loading:$.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(T,{modelValue:g.value.visible,"onUpdate:modelValue":e[12]||(e[12]=l=>g.value.visible=l)},{default:r(()=>[t(V,null,{default:r(()=>[t(d,{class:"row items-center justify-center"},{default:r(()=>[t(re,{name:"delete",color:"negative",class:"q-mr-sm",size:"sm"}),e[20]||(e[20]=n("span",{class:"text-subtitle1"},"ì •ë§ë¡œ ì´ ìƒí’ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1))]),_:1,__:[20]}),g.value.row?(R(),Y(d,{key:0,class:"text-center"},{default:r(()=>[n("div",Ko,m(g.value.row.name),1),n("div",Wo,"ì¹´í…Œê³ ë¦¬: "+m(g.value.row.category),1),n("div",Qo,"Ali ìƒí’ˆ ID: "+m(g.value.row.aliProductId),1),n("div",Go,"ìƒí’ˆ ì½”ë“œ: "+m(g.value.row.code),1)]),_:1})):H("",!0),t(h,{align:"center",class:"q-gutter-sm q-mb-md"},{default:r(()=>[z(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[G]]),t(s,{color:"negative",label:"ì‚­ì œ",onClick:ae,rounded:"",unelevated:"",class:"q-px-lg",loading:$.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},dt=Ge(Yo,[["__scopeId","data-v-d5b8188e"]]);export{dt as default};
