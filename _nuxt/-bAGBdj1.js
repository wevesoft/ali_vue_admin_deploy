import{V as ge,$ as ae,ap as xe,aq as we,ar as qe,X as ye,r as k,k as R,as as Ie,at as Pe,a0 as ke,au as Ve,av as Ce,a6 as ne,e as ie,aw as se,ax as de,ay as Ue,h as Y,a1 as Te,Z as re,az as Ae,aA as Oe,aB as Se,aC as De,aD as Ee,L as G,C as n,aa as Ne,y as M,z as s,B as t,Q as Le,A as u,D as A,al as Me,_ as Re,N as $e,x as ce,T as j,O as je,aE as B,aF as Be,P as He,S as ze,a9 as Fe,K as Ke}from"./zCgx7rFC.js";import{u as We}from"./DesUSakR.js";import{_ as Qe}from"./DlAUqK2U.js";import{_ as Ge}from"./B8b_u0x3.js";import{v as Ye,a as ue,u as Xe,p as me,b as Ze,c as Je,d as eo,r as fe,s as oo,_ as to}from"./BjXoWhGl.js";import{_ as lo}from"./DYN_wyDs.js";import{c as pe}from"./B696DFs-.js";import{_ as ao}from"./DexSwADX.js";import"./y-nfk4LP.js";import"./BripRInd.js";import"./CoaQEihs.js";import"./DWC-IJhy.js";const no=ge({name:"QTooltip",inheritAttrs:!1,props:{...Xe,...qe,...ae,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ae.transitionShow,default:"jump-down"},transitionHide:{...ae.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ue},self:{type:String,default:"top middle",validator:ue},offset:{type:Array,default:()=>[14,14],validator:Ye},scrollTarget:we,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...xe],setup(i,{slots:c,emit:p,attrs:I}){let x,_;const O=ye(),{proxy:{$q:w}}=O,e=k(null),v=k(!1),P=R(()=>me(i.anchor,w.lang.rtl)),g=R(()=>me(i.self,w.lang.rtl)),N=R(()=>i.persistent!==!0),{registerTick:b,removeTick:V}=Ie(),{registerTimeout:S}=Pe(),{transitionProps:H,transitionStyle:z}=ke(i),{localScrollTarget:F,changeScrollEvent:X,unconfigureScrollTarget:Z}=Ze(i,h),{anchorEl:C,canShow:J,anchorEvents:D}=Je({showing:v,configureAnchorEl:L}),{show:ee,hide:$}=Ve({showing:v,canShow:J,handleShow:te,handleHide:a,hideOnRouteChange:N,processOnMount:!0});Object.assign(D,{delayShow:r,delayHide:q});const{showPortal:K,hidePortal:W,renderPortal:oe}=Ce(O,e,U,"tooltip");if(w.platform.is.mobile===!0){const m={anchorEl:C,innerRef:e,onClickOutside(y){return $(y),y.target.classList.contains("q-dialog__backdrop")&&Ae(y),!0}},T=R(()=>i.modelValue===null&&i.persistent!==!0&&v.value===!0);ne(T,y=>{(y===!0?eo:fe)(m)}),ie(()=>{fe(m)})}function te(m){K(),b(()=>{_=new MutationObserver(()=>d()),_.observe(e.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),d(),h()}),x===void 0&&(x=ne(()=>w.screen.width+"|"+w.screen.height+"|"+i.self+"|"+i.anchor+"|"+w.lang.rtl,d)),S(()=>{K(!0),p("show",m)},i.transitionDuration)}function a(m){V(),W(),o(),S(()=>{W(!0),p("hide",m)},i.transitionDuration)}function o(){_!==void 0&&(_.disconnect(),_=void 0),x!==void 0&&(x(),x=void 0),Z(),se(D,"tooltipTemp")}function d(){oo({targetEl:e.value,offset:i.offset,anchorEl:C.value,anchorOrigin:P.value,selfOrigin:g.value,maxHeight:i.maxHeight,maxWidth:i.maxWidth})}function r(m){if(w.platform.is.mobile===!0){pe(),document.body.classList.add("non-selectable");const T=C.value,y=["touchmove","touchcancel","touchend","click"].map(E=>[T,E,"delayHide","passiveCapture"]);de(D,"tooltipTemp",y)}S(()=>{ee(m)},i.delay)}function q(m){w.platform.is.mobile===!0&&(se(D,"tooltipTemp"),pe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),S(()=>{$(m)},i.hideDelay)}function L(){if(i.noParentEvent===!0||C.value===null)return;const m=w.platform.is.mobile===!0?[[C.value,"touchstart","delayShow","passive"]]:[[C.value,"mouseenter","delayShow","passive"],[C.value,"mouseleave","delayHide","passive"]];de(D,"anchor",m)}function h(){if(C.value!==null||i.scrollTarget!==void 0){F.value=Ue(C.value,i.scrollTarget);const m=i.noParentEvent===!0?d:$;X(F.value,m)}}function f(){return v.value===!0?Y("div",{...I,ref:e,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",I.class],style:[I.style,z.value],role:"tooltip"},re(c.default)):null}function U(){return Y(Te,H.value,f)}return ie(o),Object.assign(O.proxy,{updatePosition:d}),oe}}),ro=ge({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(i,{slots:c}){const p=ye(),I=R(()=>"q-td"+(i.autoWidth===!0?" q-table--col-auto-width":"")+(i.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(i.props===void 0)return Y("td",{class:I.value},re(c.default));const x=p.vnode.key,_=(i.props.colsMap!==void 0?i.props.colsMap[x]:null)||i.props.col;if(_===void 0)return;const{row:O}=i.props;return Y("td",{class:I.value+_.__tdClass(O),style:_.__tdStyle(O)},re(c.default))}}});function ve(i){if(i===!1)return 0;if(i===!0||i===void 0)return 1;const c=parseInt(i,10);return isNaN(c)?0:c}const io=Oe({name:"close-popup",beforeMount(i,{value:c}){const p={depth:ve(c),handler(I){p.depth!==0&&setTimeout(()=>{const x=De(i);x!==void 0&&Ee(x,I,p.depth)})},handlerKey(I){Se(I,13)===!0&&p.handler(I)}};i.__qclosepopup=p,i.addEventListener("click",p.handler),i.addEventListener("keyup",p.handlerKey)},updated(i,{value:c,oldValue:p}){c!==p&&(i.__qclosepopup.depth=ve(c))},beforeUnmount(i){const c=i.__qclosepopup;i.removeEventListener("click",c.handler),i.removeEventListener("keyup",c.handlerKey),delete i.__qclosepopup}}),so={class:"q-mb-md row items-center justify-between"},co={class:"row items-center"},uo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"120px",display:"inline-block"}},mo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"120px",display:"inline-block"}},fo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"90px",display:"inline-block"}},po={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},vo=["href"],go=["href"],yo=["src"],_o=["src"],bo={class:"text-h6"},ho={key:0},xo={class:"row q-gutter-md items-center q-mb-md"},wo={class:"col-auto"},qo=["src"],Io=["src"],Po={class:"text-subtitle1"},ko={class:"text-h6 text-negative"},Vo={class:"row q-gutter-md"},Co={class:"col-3"},Uo=["src"],To={class:"col-9"},Ao={class:"row q-gutter-y-sm"},Oo={class:"col-12"},So={class:"text-weight-bold text-h6"},Do={class:"col-6"},Eo={class:"text-body2"},No={class:"col-6"},Lo={class:"text-body2"},Mo={class:"col-12"},Ro={class:"text-body2 text-weight-bold text-primary"},$o={class:"col-12"},jo={class:"text-body2",style:{"max-height":"60px",overflow:"hidden","text-overflow":"ellipsis"}},Bo={class:"col-12"},Ho={class:"text-body2",style:{"max-height":"60px",overflow:"hidden","text-overflow":"ellipsis"}},zo=["href"],Fo={class:"text-weight-bold text-h6 q-mb-sm"},Ko={class:"text-caption text-grey-6"},Wo={class:"text-caption text-grey-6"},Qo={class:"text-caption text-grey-6"},Go={__name:"recommend-products",setup(i){const c=k([{label:"전체",value:"전체",categoryId:0,order:0}]),p=k("전체"),I=[{name:"num",label:"번호",field:a=>"",align:"center",sortable:!1,style:"min-width:60px;"},{name:"category",label:"카테고리",field:"category",align:"center",sortable:!0,style:"min-width:100px;"},{name:"aliProductId",label:"Ali 상품 ID",field:"aliProductId",align:"center",sortable:!0,style:"min-width:120px;"},{name:"name",label:"상품 이름",field:"name",align:"center",sortable:!0,style:"min-width:120px;"},{name:"code",label:"상품 번호",field:"code",align:"center",sortable:!0,style:"min-width:90px;"},{name:"desc",label:"상품 설명",field:"desc",align:"center",style:"min-width:180px;"},{name:"url",label:"상품 URL",field:"url",align:"center",style:"min-width:180px;"},{name:"promotionUrl",label:"프로모션 URL",field:"promotionUrl",align:"center",style:"min-width:180px;"},{name:"image",label:"상품 이미지",field:"image",align:"center",style:"min-width:70px;"},{name:"price",label:"가격",field:"price",align:"center",sortable:!0,style:"min-width:80px;"},{name:"actions",label:"관리",field:"actions",align:"center"}];async function x(){var a,o,d;console.log("🔍 fetchProducts 시작"),console.log("🔍 현재 환경:",{processClient:!0,nodeEnv:"production",hostname:window.location.hostname});try{const r=c.value.find(f=>f.value===p.value),L={categoryId:r?r.categoryId:0,limit:w.value.rowsPerPage,offset:(w.value.page-1)*w.value.rowsPerPage};console.log("🔍 config 설정:",V.config.value),S("상품 목록 요청",{method:"POST",payload:L});const h=await V.api.post("/recommended/product/list",L);H("상품 목록 응답",h),Array.isArray(h)?(console.log("Fetched products:",h),_.value=h.map(f=>{console.log("🔍 Product Category Mapping:",{productCategoryId:f.categoryId,productCategoryIdType:typeof f.categoryId,convertedCategoryId:Number(f.categoryId),availableCategories:c.value.map(y=>({categoryId:y.categoryId,categoryIdType:typeof y.categoryId,label:y.label}))});const U=Number(f.categoryId),m=c.value.find(y=>y.categoryId===U),T=m?m.label:"기타";return console.log("📋 Category Mapping Result:",{productCategoryId:f.categoryId,convertedCategoryId:Number(f.categoryId),foundCategoryOption:m,finalCategoryLabel:T}),{seq:f.seq,category:T,aliProductId:f.aliProductId||"",name:f.productName,code:f.productId,desc:f.productDesc,url:f.productUrl,promotionUrl:f.promotionUrl,image:f.imageUrl,price:`${f.price.toLocaleString()}원`}})):(console.error("Invalid response format:",h),_.value=[])}catch(r){z("상품 목록 요청 실패",r),console.error("🔍 상세 에러 정보:",{message:r.message,status:(a=r.response)==null?void 0:a.status,statusText:(o=r.response)==null?void 0:o.statusText,data:(d=r.response)==null?void 0:d.data}),b.notify({type:"negative",message:"상품 목록을 불러오는데 실패했습니다."}),_.value=[]}}const _=k([]),O=R(()=>p.value==="전체"?_.value:_.value.filter(a=>a.category===p.value)),w=k({page:1,rowsPerPage:20}),e=k({visible:!1,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1}),v=k({visible:!1,row:null}),P=k({visible:!1,mode:"add"}),g=k({visible:!1,row:null}),N=k(!1),b=Ne(),V=We(),S=(a,o)=>{var d;(d=V.config.value)!=null&&d.enableApiLogs&&console.log(`📡 ${a}:`,o)},H=(a,o)=>{var d;(d=V.config.value)!=null&&d.enableApiLogs&&console.log(`📡 ${a}:`,o)},z=(a,o)=>{var d;(d=V.config.value)!=null&&d.enableApiLogs&&console.error(`❌ ${a}:`,o)};async function F(){try{S("카테고리 요청",{method:"POST"});const a=await V.api.post("/recommended/category/list",{});H("카테고리 응답",a),Array.isArray(a)&&(console.log("📂 Fetched Categories:",a),c.value=[{label:"전체",value:"전체",categoryId:0,order:0},...a.map(o=>({label:o.categoryName,value:o.categoryName,categoryId:Number(o.categoryId),order:o.order}))],console.log("✅ Final CATEGORY_OPTIONS:",c.value))}catch(a){z("카테고리 요청 실패",a)}}F(),x(),ne([p,()=>w.value.page,()=>w.value.rowsPerPage],()=>{x()});function X(){if(!e.value.form.url){b.notify({type:"warning",message:"상품 URL을 입력하세요."});return}const a=c.value.find(d=>d.value===e.value.form.category),o=a?a.categoryId:0;V.api.post("/recommended/get/product/detail",{categoryName:e.value.form.category,categoryId:o,productUrl:e.value.form.url,productName:e.value.form.name}).then(d=>{if(console.log(d),d&&d.result===!0){const r=d;e.value.form.image=r.productMainImageUrl,e.value.form.code=r.productId,e.value.form.desc=r.productTitle,e.value.form.price=r.targetSalePrice,e.value.form.affiliateUrl=r.promotionLink,e.value.infoVisible=!0}else b.dialog({title:"알림",message:"상품 정보가 없습니다.",ok:"확인",color:"negative"}),e.value.infoVisible=!1}).catch(()=>{b.dialog({title:"알림",message:"상품 정보가 없습니다.",ok:"확인",color:"negative"}),e.value.infoVisible=!1})}function Z(){if(e.value.mode==="add"){if(!e.value.infoVisible){b.notify({type:"warning",message:"상품 정보를 가져오세요."});return}P.value={visible:!0,mode:"add"}}else{if(!e.value.infoVisible){b.notify({type:"warning",message:"상품 정보를 가져오세요."});return}P.value={visible:!0,mode:"edit"}}}function C(){const a=c.value.find(r=>r.value===e.value.form.category),o=a?a.categoryId:0,d={categoryName:e.value.form.category,categoryId:o,productName:e.value.form.name||`상품${_.value.length+1}`,productId:e.value.form.code,productdesc:e.value.form.desc,productUrl:e.value.form.url,imageUrl:e.value.form.image,price:e.value.form.price,affiliateUrl:e.value.form.affiliateUrl};V.api.post("/recommended/add/product",d).then(r=>{console.log("Add product response:",r),r&&r.result===!0?(b.notify({type:"positive",message:"상품이 추가되었습니다."}),e.value.visible=!1,x()):b.notify({type:"negative",message:"상품 추가에 실패했습니다."})}).catch(r=>{console.error("Add product error:",r),b.notify({type:"negative",message:"상품 추가에 실패했습니다."})})}function J(){console.log("🔧 Confirm Action:",P.value.mode),P.value.mode==="add"?C():P.value.mode==="edit"&&D()}function D(){console.log("🔧 Modify Product Called"),console.log("📋 Dialog Form:",e.value.form);const a=c.value.find(r=>r.value===e.value.form.category),o=a?a.categoryId:0,d={categoryName:e.value.form.category,categoryId:o,productName:e.value.form.name||`상품${_.value.length+1}`,productId:e.value.form.code,productdesc:e.value.form.desc,productUrl:e.value.form.url,imageUrl:e.value.form.image,price:e.value.form.price,affiliateUrl:e.value.form.affiliateUrl};console.log("🚀 Sending Modify Request:",d),V.api.post("/recommended/modify/product",d).then(r=>{console.log("Modify product response:",r),r&&r.result===!0?(b.notify({type:"positive",message:"상품이 수정되었습니다."}),e.value.visible=!1,x()):b.notify({type:"negative",message:"상품 수정에 실패했습니다."})}).catch(r=>{console.error("Modify product error:",r),b.notify({type:"negative",message:"상품 수정에 실패했습니다."})})}function ee(){e.value={visible:!0,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1},P.value={visible:!1,mode:"add"}}function $(a){e.value={visible:!0,mode:"edit",form:{seq:a.seq,category:a.category,name:a.name,code:a.code,desc:a.desc,url:a.url,image:a.image,price:a.price,affiliateUrl:a.promotionUrl||a.affiliateUrl||""},infoVisible:!0},P.value={visible:!1,mode:"edit"}}function K(a){v.value={visible:!0,row:a},g.value={visible:!1,row:null}}function W(){v.value.row&&(v.value.visible=!1,Fe(()=>{g.value={visible:!0,row:v.value.row}}))}function oe(a){console.log("🔍 Getting categoryId for:",a),console.log("📋 Available categories:",c.value);const o=c.value.find(r=>r.label===a),d=o?o.categoryId:0;return console.log("✅ Found categoryId:",d,"for category:",a),d}async function te(){if(g.value.row){N.value=!0;try{console.log("🗑️ Executing Delete Product:",g.value.row);const a=await Ke.post(`${API_BASE.value}/recommended/remove/product`,{productId:g.value.row.code,productName:g.value.row.name,aliProductId:g.value.row.aliProductId,categoryId:oe(g.value.row.category)},{withCredentials:!0});console.log("🗑️ Delete Response:",a.data),a.data&&a.data.result===!0?(g.value={visible:!1,row:null},b.dialog({title:"성공",message:"상품이 성공적으로 삭제되었습니다.",ok:"확인",color:"positive"}),x()):b.dialog({title:"실패",message:"상품 삭제에 실패했습니다.",ok:"확인",color:"negative"})}catch(a){console.error("Delete product error:",a),b.dialog({title:"오류",message:"상품 삭제 중 오류가 발생했습니다.",ok:"확인",color:"negative"})}finally{N.value=!1}}}return k({seq:60,name:120,code:90,desc:180,url:180,image:70,price:80,actions:100}),(a,o)=>{const d=to,r=Le,q=ro,L=ao,h=no,f=lo,U=$e,m=je,T=He,y=Re,E=Me,le=ze,_e=Ge,be=Be,Q=io;return M(),G(_e,{padding:""},{default:n(()=>[s("div",so,[s("div",co,[t(d,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=l=>p.value=l),options:c.value,label:"카테고리",dense:"",outlined:"",style:{width:"160px","min-width":"120px","margin-right":"12px"},"emit-value":"","map-options":""},null,8,["modelValue","options"]),t(r,{color:"primary",label:"상품 추가",onClick:ee,class:"q-ml-sm",unelevated:"",rounded:"",icon:"add"})])]),t(f,{rows:O.value,columns:I,"row-key":"code",flat:"",bordered:"",class:"q-mb-md shadow-1 resizable-table","table-col-resize":!0,pagination:w.value,"rows-per-page-options":[10,20,50,100]},{"body-cell-num":n(l=>[t(q,{align:"center"},{default:n(()=>[A(u(l.rowIndex+1),1)]),_:2},1024)]),"body-cell-category":n(l=>[t(q,{align:"center"},{default:n(()=>[t(L,{color:"primary",outline:""},{default:n(()=>[A(u(l.row.category),1)]),_:2},1024)]),_:2},1024)]),"body-cell-aliProductId":n(l=>[t(q,{align:"center"},{default:n(()=>[t(h,null,{default:n(()=>[A(u(l.row.aliProductId),1)]),_:2},1024),s("span",uo,u(l.row.aliProductId),1)]),_:2},1024)]),"body-cell-name":n(l=>[t(q,{align:"center"},{default:n(()=>[t(h,null,{default:n(()=>[A(u(l.row.name),1)]),_:2},1024),s("span",mo,u(l.row.name),1)]),_:2},1024)]),"body-cell-code":n(l=>[t(q,{align:"center"},{default:n(()=>[t(h,null,{default:n(()=>[A(u(l.row.code),1)]),_:2},1024),s("span",fo,u(l.row.code),1)]),_:2},1024)]),"body-cell-desc":n(l=>[t(q,{align:"center"},{default:n(()=>[t(h,null,{default:n(()=>[A(u(l.row.desc),1)]),_:2},1024),s("span",po,u(l.row.desc),1)]),_:2},1024)]),"body-cell-url":n(l=>[t(q,{align:"center"},{default:n(()=>[t(h,null,{default:n(()=>[A(u(l.row.url),1)]),_:2},1024),s("a",{href:l.row.url,target:"_blank",style:{color:"#1976d2","text-decoration":"underline",cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},u(l.row.url),9,vo)]),_:2},1024)]),"body-cell-promotionUrl":n(l=>[t(q,{align:"center"},{default:n(()=>[t(h,null,{default:n(()=>[A(u(l.row.promotionUrl),1)]),_:2},1024),s("a",{href:l.row.promotionUrl,target:"_blank",style:{color:"#1976d2","text-decoration":"underline",cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},u(l.row.promotionUrl),9,go)]),_:2},1024)]),"body-cell-image":n(l=>[t(q,{align:"center"},{default:n(()=>[t(h,{anchor:"top middle",self:"bottom middle"},{default:n(()=>[s("img",{src:l.row.image,style:{"max-width":"200px","max-height":"200px","border-radius":"8px"}},null,8,yo)]),_:2},1024),s("img",{src:l.row.image,style:{width:"40px",height:"40px","object-fit":"cover","border-radius":"6px",cursor:"pointer",border:"1px solid #eee"}},null,8,_o)]),_:2},1024)]),"body-cell-price":n(l=>[t(q,{align:"center"},{default:n(()=>[s("span",null,u(l.row.price),1)]),_:2},1024)]),"body-cell-actions":n(l=>[t(q,{align:"center"},{default:n(()=>[t(r,{size:"sm",color:"primary",flat:"",icon:"edit",onClick:he=>$(l.row),round:"",dense:""},null,8,["onClick"]),t(r,{size:"sm",color:"negative",flat:"",icon:"delete",onClick:he=>K(l.row),round:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:1},8,["rows","pagination"]),t(E,{modelValue:e.value.visible,"onUpdate:modelValue":o[8]||(o[8]=l=>e.value.visible=l)},{default:n(()=>[t(y,{style:{"min-width":"350px","max-width":"90vw"}},{default:n(()=>[t(U,null,{default:n(()=>[s("div",bo,u(e.value.mode==="add"?"상품 추가":"상품 수정"),1)]),_:1}),t(U,null,{default:n(()=>[t(d,{modelValue:e.value.form.category,"onUpdate:modelValue":o[1]||(o[1]=l=>e.value.form.category=l),options:c.value.filter(l=>l.value!=="전체"),label:"카테고리",dense:"",outlined:"",class:"q-mb-sm","emit-value":"","map-options":""},null,8,["modelValue","options"]),t(m,{modelValue:e.value.form.url,"onUpdate:modelValue":o[2]||(o[2]=l=>e.value.form.url=l),label:"상품 URL",dense:"",outlined:"",class:"q-mb-sm",autofocus:""},null,8,["modelValue"]),t(m,{modelValue:e.value.form.name,"onUpdate:modelValue":o[3]||(o[3]=l=>e.value.form.name=l),label:"상품명",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(r,{color:"primary",label:"상품 정보 가져오기",class:"q-mb-md",onClick:X,unelevated:""}),e.value.infoVisible?(M(),ce("div",ho,[s("div",xo,[s("div",wo,[e.value.form.image?(M(),G(h,{key:0},{default:n(()=>[s("img",{src:e.value.form.image,style:{width:"220px",height:"220px","object-fit":"contain","border-radius":"12px",border:"1px solid #eee",background:"#fff"}},null,8,qo)]),_:1})):j("",!0),e.value.form.image?B((M(),ce("img",{key:1,src:e.value.form.image,style:{width:"60px",height:"60px","object-fit":"cover","border-radius":"8px",border:"1px solid #eee",cursor:"pointer"}},null,8,Io)),[[be]]):j("",!0)])]),t(m,{modelValue:e.value.form.code,"onUpdate:modelValue":o[4]||(o[4]=l=>e.value.form.code=l),label:"상품 번호",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(m,{modelValue:e.value.form.desc,"onUpdate:modelValue":o[5]||(o[5]=l=>e.value.form.desc=l),label:"상품 설명",dense:"",outlined:"",class:"q-mb-sm",type:"textarea",autogrow:""},null,8,["modelValue"]),t(m,{modelValue:e.value.form.price,"onUpdate:modelValue":o[6]||(o[6]=l=>e.value.form.price=l),label:"상품 가격",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(m,{modelValue:e.value.form.affiliateUrl,"onUpdate:modelValue":o[7]||(o[7]=l=>e.value.form.affiliateUrl=l),label:"상품 제휴 URL",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"])])):j("",!0)]),_:1}),t(T,{align:"center",class:"q-gutter-sm q-mt-sm q-mb-md"},{default:n(()=>[B(t(r,{color:"grey-5","text-color":"dark",label:"취소",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[Q]]),t(r,{color:"primary",label:e.value.mode==="add"?"추가":"수정",onClick:Z,rounded:"",unelevated:"",class:"q-px-lg"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(E,{modelValue:P.value.visible,"onUpdate:modelValue":o[9]||(o[9]=l=>P.value.visible=l)},{default:n(()=>[t(y,null,{default:n(()=>[t(U,{class:"row items-center justify-center"},{default:n(()=>[t(le,{name:"help",color:"primary",class:"q-mr-sm",size:"sm"}),s("span",Po,u(P.value.mode==="add"?"상품을 추가":"상품을 수정")+" 하시겠습니까?",1)]),_:1}),t(T,{align:"center",class:"q-gutter-sm q-mb-md"},{default:n(()=>[B(t(r,{color:"grey-5","text-color":"dark",label:"취소",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[Q]]),t(r,{color:"primary",label:"확인",onClick:J,rounded:"",unelevated:"",class:"q-px-lg"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(E,{modelValue:v.value.visible,"onUpdate:modelValue":o[11]||(o[11]=l=>v.value.visible=l)},{default:n(()=>[t(y,{style:{"min-width":"400px","max-width":"90vw"}},{default:n(()=>[t(U,null,{default:n(()=>[s("div",ko,[t(le,{name:"delete",color:"negative",class:"q-mr-sm"}),o[13]||(o[13]=A(" 상품 삭제 확인 "))])]),_:1}),v.value.row?(M(),G(U,{key:0},{default:n(()=>[o[19]||(o[19]=s("div",{class:"text-subtitle2 q-mb-md"},"다음 상품을 삭제하시겠습니까?",-1)),s("div",Vo,[s("div",Co,[s("img",{src:v.value.row.image,style:{width:"100px",height:"100px","object-fit":"cover","border-radius":"8px",border:"1px solid #eee"},onError:o[10]||(o[10]=l=>l.target.src="https://via.placeholder.com/100x100?text=No+Image")},null,40,Uo)]),s("div",To,[s("div",Ao,[s("div",Oo,[s("div",So,u(v.value.row.name),1)]),s("div",Do,[o[14]||(o[14]=s("div",{class:"text-caption text-grey-6"},"카테고리",-1)),s("div",Eo,u(v.value.row.category),1)]),s("div",No,[o[15]||(o[15]=s("div",{class:"text-caption text-grey-6"},"상품 코드",-1)),s("div",Lo,u(v.value.row.code),1)]),s("div",Mo,[o[16]||(o[16]=s("div",{class:"text-caption text-grey-6"},"가격",-1)),s("div",Ro,u(v.value.row.price),1)]),s("div",$o,[o[17]||(o[17]=s("div",{class:"text-caption text-grey-6"},"상품 설명",-1)),s("div",jo,u(v.value.row.desc),1)]),s("div",Bo,[o[18]||(o[18]=s("div",{class:"text-caption text-grey-6"},"프로모션 URL",-1)),s("div",Ho,[s("a",{href:v.value.row.promotionUrl,target:"_blank",style:{color:"#1976d2","text-decoration":"underline"}},u(v.value.row.promotionUrl),9,zo)])])])])])]),_:1,__:[19]})):j("",!0),t(T,{align:"right",class:"q-gutter-sm q-pa-md"},{default:n(()=>[B(t(r,{color:"grey-5","text-color":"dark",label:"취소",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[Q]]),t(r,{color:"negative",label:"삭제",onClick:W,rounded:"",unelevated:"",class:"q-px-lg",loading:N.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(E,{modelValue:g.value.visible,"onUpdate:modelValue":o[12]||(o[12]=l=>g.value.visible=l)},{default:n(()=>[t(y,null,{default:n(()=>[t(U,{class:"row items-center justify-center"},{default:n(()=>[t(le,{name:"delete",color:"negative",class:"q-mr-sm",size:"sm"}),o[20]||(o[20]=s("span",{class:"text-subtitle1"},"정말로 이 상품을 삭제하시겠습니까?",-1))]),_:1,__:[20]}),g.value.row?(M(),G(U,{key:0,class:"text-center"},{default:n(()=>[s("div",Fo,u(g.value.row.name),1),s("div",Ko,"카테고리: "+u(g.value.row.category),1),s("div",Wo,"Ali 상품 ID: "+u(g.value.row.aliProductId),1),s("div",Qo,"상품 코드: "+u(g.value.row.code),1)]),_:1})):j("",!0),t(T,{align:"center",class:"q-gutter-sm q-mb-md"},{default:n(()=>[B(t(r,{color:"grey-5","text-color":"dark",label:"취소",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[Q]]),t(r,{color:"negative",label:"삭제",onClick:te,rounded:"",unelevated:"",class:"q-px-lg",loading:N.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},st=Qe(Go,[["__scopeId","data-v-9c848ff2"]]);export{st as default};
