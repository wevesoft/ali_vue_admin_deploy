import{V as ye,$ as ne,ap as qe,aq as ke,ar as Ie,X as be,r as V,k as L,as as Pe,at as Ve,a0 as Ce,au as Ue,av as Te,a6 as re,e as de,aw as ce,ax as ue,ay as Se,h as G,a1 as Ae,Z as se,az as Oe,aA as De,aB as Ee,aC as Le,aD as Ne,M as Q,C as a,L as M,aa as $e,y as $,z as r,B as t,Q as Be,A as c,D as T,al as Me,_ as Re,N as je,x as me,T as R,O as He,aE as j,aF as ze,P as We,S as Fe,a9 as Ke}from"./BTFupLzc.js";import{u as Qe}from"./D-dJjPxp.js";import{_ as Ge}from"./DlAUqK2U.js";import{_ as Xe}from"./BQvo5XJ9.js";import{v as Ye,a as fe,u as Ze,p as ve,b as Je,c as eo,d as oo,r as ge,s as to,_ as lo}from"./BJQxngEj.js";import{_ as ao}from"./DK8syehv.js";import{c as pe}from"./DJImsiSi.js";import{_ as io}from"./B8Z85XDn.js";import"./CHfHSsdf.js";import"./CpI_1NvZ.js";import"./CoaQEihs.js";import"./DIdy-Ubp.js";const no=ye({name:"QTooltip",inheritAttrs:!1,props:{...Ze,...Ie,...ne,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ne.transitionShow,default:"jump-down"},transitionHide:{...ne.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:fe},self:{type:String,default:"top middle",validator:fe},offset:{type:Array,default:()=>[14,14],validator:Ye},scrollTarget:ke,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...qe],setup(n,{slots:u,emit:v,attrs:k}){let h,_;const S=be(),{proxy:{$q:w}}=S,e=V(null),g=V(!1),q=L(()=>ve(n.anchor,w.lang.rtl)),y=L(()=>ve(n.self,w.lang.rtl)),N=L(()=>n.persistent!==!0),{registerTick:b,removeTick:A}=Pe(),{registerTimeout:U}=Ve(),{transitionProps:X,transitionStyle:Y}=Ce(n),{localScrollTarget:H,changeScrollEvent:Z,unconfigureScrollTarget:J}=Je(n,f),{anchorEl:C,canShow:ee,anchorEvents:O}=eo({showing:g,configureAnchorEl:p}),{show:oe,hide:B}=Ue({showing:g,canShow:ee,handleShow:le,handleHide:ae,hideOnRouteChange:N,processOnMount:!0});Object.assign(O,{delayShow:d,delayHide:s});const{showPortal:z,hidePortal:W,renderPortal:te}=Te(S,e,D,"tooltip");if(w.platform.is.mobile===!0){const m={anchorEl:C,innerRef:e,onClickOutside(P){return B(P),P.target.classList.contains("q-dialog__backdrop")&&Oe(P),!0}},x=L(()=>n.modelValue===null&&n.persistent!==!0&&g.value===!0);re(x,P=>{(P===!0?oo:ge)(m)}),de(()=>{ge(m)})}function le(m){z(),b(()=>{_=new MutationObserver(()=>o()),_.observe(e.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),o(),f()}),h===void 0&&(h=re(()=>w.screen.width+"|"+w.screen.height+"|"+n.self+"|"+n.anchor+"|"+w.lang.rtl,o)),U(()=>{z(!0),v("show",m)},n.transitionDuration)}function ae(m){A(),W(),i(),U(()=>{W(!0),v("hide",m)},n.transitionDuration)}function i(){_!==void 0&&(_.disconnect(),_=void 0),h!==void 0&&(h(),h=void 0),J(),ce(O,"tooltipTemp")}function o(){to({targetEl:e.value,offset:n.offset,anchorEl:C.value,anchorOrigin:q.value,selfOrigin:y.value,maxHeight:n.maxHeight,maxWidth:n.maxWidth})}function d(m){if(w.platform.is.mobile===!0){pe(),document.body.classList.add("non-selectable");const x=C.value,P=["touchmove","touchcancel","touchend","click"].map(E=>[x,E,"delayHide","passiveCapture"]);ue(O,"tooltipTemp",P)}U(()=>{oe(m)},n.delay)}function s(m){w.platform.is.mobile===!0&&(ce(O,"tooltipTemp"),pe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),U(()=>{B(m)},n.hideDelay)}function p(){if(n.noParentEvent===!0||C.value===null)return;const m=w.platform.is.mobile===!0?[[C.value,"touchstart","delayShow","passive"]]:[[C.value,"mouseenter","delayShow","passive"],[C.value,"mouseleave","delayHide","passive"]];ue(O,"anchor",m)}function f(){if(C.value!==null||n.scrollTarget!==void 0){H.value=Se(C.value,n.scrollTarget);const m=n.noParentEvent===!0?o:B;Z(H.value,m)}}function I(){return g.value===!0?G("div",{...k,ref:e,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",k.class],style:[k.style,Y.value],role:"tooltip"},se(u.default)):null}function D(){return G(Ae,X.value,I)}return de(i),Object.assign(S.proxy,{updatePosition:o}),te}}),ro=ye({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(n,{slots:u}){const v=be(),k=L(()=>"q-td"+(n.autoWidth===!0?" q-table--col-auto-width":"")+(n.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(n.props===void 0)return G("td",{class:k.value},se(u.default));const h=v.vnode.key,_=(n.props.colsMap!==void 0?n.props.colsMap[h]:null)||n.props.col;if(_===void 0)return;const{row:S}=n.props;return G("td",{class:k.value+_.__tdClass(S),style:_.__tdStyle(S)},se(u.default))}}});function _e(n){if(n===!1)return 0;if(n===!0||n===void 0)return 1;const u=parseInt(n,10);return isNaN(u)?0:u}const so=De({name:"close-popup",beforeMount(n,{value:u}){const v={depth:_e(u),handler(k){v.depth!==0&&setTimeout(()=>{const h=Le(n);h!==void 0&&Ne(h,k,v.depth)})},handlerKey(k){Ee(k,13)===!0&&v.handler(k)}};n.__qclosepopup=v,n.addEventListener("click",v.handler),n.addEventListener("keyup",v.handlerKey)},updated(n,{value:u,oldValue:v}){u!==v&&(n.__qclosepopup.depth=_e(u))},beforeUnmount(n){const u=n.__qclosepopup;n.removeEventListener("click",u.handler),n.removeEventListener("keyup",u.handlerKey),delete n.__qclosepopup}}),co={class:"q-mb-md row items-center justify-between"},uo={class:"row items-center"},mo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"120px",display:"inline-block"}},fo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"120px",display:"inline-block"}},vo={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"90px",display:"inline-block"}},go={style:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},po=["href"],_o=["href"],yo=["src"],bo=["src"],ho={class:"text-h6"},wo={key:0},xo={class:"row q-gutter-md items-center q-mb-md"},qo={class:"col-auto"},ko=["src"],Io=["src"],Po={class:"text-subtitle1"},Vo={class:"text-h6 text-negative"},Co={class:"row q-gutter-md"},Uo={class:"col-3"},To=["src"],So={class:"col-9"},Ao={class:"row q-gutter-y-sm"},Oo={class:"col-12"},Do={class:"text-weight-bold text-h6"},Eo={class:"col-6"},Lo={class:"text-body2"},No={class:"col-6"},$o={class:"text-body2"},Bo={class:"col-12"},Mo={class:"text-body2 text-weight-bold text-primary"},Ro={class:"col-12"},jo={class:"text-body2",style:{"max-height":"60px",overflow:"hidden","text-overflow":"ellipsis"}},Ho={class:"col-12"},zo={class:"text-body2",style:{"max-height":"60px",overflow:"hidden","text-overflow":"ellipsis"}},Wo=["href"],Fo={class:"text-weight-bold text-h6 q-mb-sm"},Ko={class:"text-caption text-grey-6"},Qo={class:"text-caption text-grey-6"},Go={class:"text-caption text-grey-6"},Xo={__name:"recommend-products",setup(n){const u=V([{label:"ì „ì²´",value:"ì „ì²´",categoryId:0,order:0}]),v=V("ì „ì²´"),k=[{name:"num",label:"ë²ˆí˜¸",field:i=>"",align:"center",sortable:!1,style:"min-width:60px;"},{name:"category",label:"ì¹´í…Œê³ ë¦¬",field:"category",align:"center",sortable:!0,style:"min-width:100px;"},{name:"aliProductId",label:"Ali ìƒí’ˆ ID",field:"aliProductId",align:"center",sortable:!0,style:"min-width:120px;"},{name:"name",label:"ìƒí’ˆ ì´ë¦„",field:"name",align:"center",sortable:!0,style:"min-width:120px;"},{name:"code",label:"ìƒí’ˆ ë²ˆí˜¸",field:"code",align:"center",sortable:!0,style:"min-width:90px;"},{name:"desc",label:"ìƒí’ˆ ì„¤ëª…",field:"desc",align:"center",style:"min-width:180px;"},{name:"url",label:"ìƒí’ˆ URL",field:"url",align:"center",style:"min-width:180px;"},{name:"promotionUrl",label:"í”„ë¡œëª¨ì…˜ URL",field:"promotionUrl",align:"center",style:"min-width:180px;"},{name:"image",label:"ìƒí’ˆ ì´ë¯¸ì§€",field:"image",align:"center",style:"min-width:70px;"},{name:"price",label:"ê°€ê²©",field:"price",align:"center",sortable:!0,style:"min-width:80px;"},{name:"actions",label:"ê´€ë¦¬",field:"actions",align:"center"}];async function h(){try{const i=u.value.find(f=>f.value===v.value),d={categoryId:i?i.categoryId:0,limit:w.value.rowsPerPage,offset:(w.value.page-1)*w.value.rowsPerPage};console.log("ðŸ”§ Build time - fetchProducts blocked"),_.value=[];return}catch(i){H("ìƒí’ˆ ëª©ë¡ ìš”ì²­ ì‹¤íŒ¨",i),b.notify({type:"negative",message:"ìƒí’ˆ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."}),_.value=[]}}const _=V([]),S=L(()=>v.value==="ì „ì²´"?_.value:_.value.filter(i=>i.category===v.value)),w=V({page:1,rowsPerPage:20}),e=V({visible:!1,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1}),g=V({visible:!1,row:null}),q=V({visible:!1,mode:"add"}),y=V({visible:!1,row:null}),N=V(!1),b=$e(),A=Qe(),U=L(()=>A.apiBase.value?(console.log("âœ… API_BASE ì‚¬ìš©:",A.apiBase.value),A.apiBase.value):window.location.hostname==="localhost"?(console.log("ðŸ”„ Localhost fallback ì‚¬ìš©: https://localhost:9443"),"https://localhost:9443"):(console.log("ðŸ”„ Production fallback ì‚¬ìš©: https://dev.deallow.kr:9443"),"https://dev.deallow.kr:9443")),X=(i,o)=>{var d;(d=A.config.value)!=null&&d.enableApiLogs&&console.log(`ðŸ“¡ ${i}:`,o)},Y=(i,o)=>{var d;(d=A.config.value)!=null&&d.enableApiLogs&&console.log(`ðŸ“¡ ${i}:`,o)},H=(i,o)=>{var d;(d=A.config.value)!=null&&d.enableApiLogs&&console.error(`âŒ ${i}:`,o)};async function Z(){{console.log("ðŸ”§ Build time - fetchCategories blocked");return}}Z(),h(),re([v,()=>w.value.page,()=>w.value.rowsPerPage],()=>{h()});function J(){if(!e.value.form.url){b.notify({type:"warning",message:"ìƒí’ˆ URLì„ ìž…ë ¥í•˜ì„¸ìš”."});return}const i=u.value.find(d=>d.value===e.value.form.category),o=i?i.categoryId:0;M.post(`${U.value}/recommended/get/product/detail`,{categoryName:e.value.form.category,categoryId:o,productUrl:e.value.form.url,productName:e.value.form.name},{withCredentials:!0}).then(d=>{if(console.log(d.data),d.data&&d.data.result===!0){const s=d.data;e.value.form.image=s.productMainImageUrl,e.value.form.code=s.productId,e.value.form.desc=s.productTitle,e.value.form.price=s.targetSalePrice,e.value.form.affiliateUrl=s.promotionLink,e.value.infoVisible=!0}else b.dialog({title:"ì•Œë¦¼",message:"ìƒí’ˆ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"}),e.value.infoVisible=!1}).catch(()=>{b.dialog({title:"ì•Œë¦¼",message:"ìƒí’ˆ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"}),e.value.infoVisible=!1})}function C(){if(e.value.mode==="add"){if(!e.value.infoVisible){b.notify({type:"warning",message:"ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì„¸ìš”."});return}q.value={visible:!0,mode:"add"}}else{if(!e.value.infoVisible){b.notify({type:"warning",message:"ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì„¸ìš”."});return}q.value={visible:!0,mode:"edit"}}}function ee(){const i=u.value.find(s=>s.value===e.value.form.category),o=i?i.categoryId:0,d={categoryName:e.value.form.category,categoryId:o,productName:e.value.form.name||`ìƒí’ˆ${_.value.length+1}`,productId:e.value.form.code,productdesc:e.value.form.desc,productUrl:e.value.form.url,imageUrl:e.value.form.image,price:e.value.form.price,affiliateUrl:e.value.form.affiliateUrl};M.post(`${U.value}/recommended/add/product`,d,{withCredentials:!0}).then(s=>{s.data&&s.data.result===!0?(b.dialog({title:"ì„±ê³µ",message:"ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"primary"}),e.value={visible:!1,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1},q.value={visible:!1,mode:"add"},h()):b.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}).catch(()=>{b.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})})}function O(){console.log("ðŸ”§ Confirm Action:",q.value.mode),q.value.mode==="add"?ee():q.value.mode==="edit"&&oe()}function oe(){console.log("ðŸ”§ Modify Product Called"),console.log("ðŸ“‹ Dialog Form:",e.value.form);const i=u.value.find(s=>s.value===e.value.form.category),o=i?i.categoryId:0,d={categoryName:e.value.form.category,categoryId:o,productName:e.value.form.name||`ìƒí’ˆ${_.value.length+1}`,productId:e.value.form.code,productdesc:e.value.form.desc,productUrl:e.value.form.url,imageUrl:e.value.form.image,price:e.value.form.price,affiliateUrl:e.value.form.affiliateUrl};console.log("ðŸš€ Sending Modify Request:",d),M.post(`${U.value}/recommended/modify/product`,d,{withCredentials:!0}).then(s=>{s.data&&s.data.result===!0?(b.dialog({title:"ì„±ê³µ",message:"ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"primary"}),e.value={visible:!1,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1},q.value={visible:!1,mode:"add"},h()):b.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}).catch(()=>{b.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})})}function B(){e.value={visible:!0,mode:"add",form:{seq:null,name:"",code:"",desc:"",url:"",image:"",price:"",affiliateUrl:""},infoVisible:!1},q.value={visible:!1,mode:"add"}}function z(i){e.value={visible:!0,mode:"edit",form:{seq:i.seq,category:i.category,name:i.name,code:i.code,desc:i.desc,url:i.url,image:i.image,price:i.price,affiliateUrl:i.promotionUrl||i.affiliateUrl||""},infoVisible:!0},q.value={visible:!1,mode:"edit"}}function W(i){g.value={visible:!0,row:i},y.value={visible:!1,row:null}}function te(){g.value.row&&(g.value.visible=!1,Ke(()=>{y.value={visible:!0,row:g.value.row}}))}function le(i){console.log("ðŸ” Getting categoryId for:",i),console.log("ðŸ“‹ Available categories:",u.value);const o=u.value.find(s=>s.label===i),d=o?o.categoryId:0;return console.log("âœ… Found categoryId:",d,"for category:",i),d}async function ae(){if(y.value.row){N.value=!0;try{console.log("ðŸ—‘ï¸ Executing Delete Product:",y.value.row);const i=await M.post(`${U.value}/recommended/remove/product`,{productId:y.value.row.code,productName:y.value.row.name,aliProductId:y.value.row.aliProductId,categoryId:le(y.value.row.category)},{withCredentials:!0});console.log("ðŸ—‘ï¸ Delete Response:",i.data),i.data&&i.data.result===!0?(y.value={visible:!1,row:null},b.dialog({title:"ì„±ê³µ",message:"ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"positive"}),h()):b.dialog({title:"ì‹¤íŒ¨",message:"ìƒí’ˆ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}catch(i){console.error("Delete product error:",i),b.dialog({title:"ì˜¤ë¥˜",message:"ìƒí’ˆ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",ok:"í™•ì¸",color:"negative"})}finally{N.value=!1}}}return V({seq:60,name:120,code:90,desc:180,url:180,image:70,price:80,actions:100}),(i,o)=>{const d=lo,s=Be,p=ro,f=io,I=no,D=ao,m=je,x=He,P=We,E=Re,F=Me,ie=Fe,he=Xe,we=ze,K=so;return $(),Q(he,{padding:""},{default:a(()=>[r("div",co,[r("div",uo,[t(d,{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=l=>v.value=l),options:u.value,label:"ì¹´í…Œê³ ë¦¬",dense:"",outlined:"",style:{width:"160px","min-width":"120px","margin-right":"12px"},"emit-value":"","map-options":""},null,8,["modelValue","options"]),t(s,{color:"primary",label:"ìƒí’ˆ ì¶”ê°€",onClick:B,class:"q-ml-sm",unelevated:"",rounded:"",icon:"add"})])]),t(D,{rows:S.value,columns:k,"row-key":"code",flat:"",bordered:"",class:"q-mb-md shadow-1 resizable-table","table-col-resize":!0,pagination:w.value,"rows-per-page-options":[10,20,50,100]},{"body-cell-num":a(l=>[t(p,{align:"center"},{default:a(()=>[T(c(l.rowIndex+1),1)]),_:2},1024)]),"body-cell-category":a(l=>[t(p,{align:"center"},{default:a(()=>[t(f,{color:"primary",outline:""},{default:a(()=>[T(c(l.row.category),1)]),_:2},1024)]),_:2},1024)]),"body-cell-aliProductId":a(l=>[t(p,{align:"center"},{default:a(()=>[t(I,null,{default:a(()=>[T(c(l.row.aliProductId),1)]),_:2},1024),r("span",mo,c(l.row.aliProductId),1)]),_:2},1024)]),"body-cell-name":a(l=>[t(p,{align:"center"},{default:a(()=>[t(I,null,{default:a(()=>[T(c(l.row.name),1)]),_:2},1024),r("span",fo,c(l.row.name),1)]),_:2},1024)]),"body-cell-code":a(l=>[t(p,{align:"center"},{default:a(()=>[t(I,null,{default:a(()=>[T(c(l.row.code),1)]),_:2},1024),r("span",vo,c(l.row.code),1)]),_:2},1024)]),"body-cell-desc":a(l=>[t(p,{align:"center"},{default:a(()=>[t(I,null,{default:a(()=>[T(c(l.row.desc),1)]),_:2},1024),r("span",go,c(l.row.desc),1)]),_:2},1024)]),"body-cell-url":a(l=>[t(p,{align:"center"},{default:a(()=>[t(I,null,{default:a(()=>[T(c(l.row.url),1)]),_:2},1024),r("a",{href:l.row.url,target:"_blank",style:{color:"#1976d2","text-decoration":"underline",cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},c(l.row.url),9,po)]),_:2},1024)]),"body-cell-promotionUrl":a(l=>[t(p,{align:"center"},{default:a(()=>[t(I,null,{default:a(()=>[T(c(l.row.promotionUrl),1)]),_:2},1024),r("a",{href:l.row.promotionUrl,target:"_blank",style:{color:"#1976d2","text-decoration":"underline",cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"180px",display:"inline-block"}},c(l.row.promotionUrl),9,_o)]),_:2},1024)]),"body-cell-image":a(l=>[t(p,{align:"center"},{default:a(()=>[t(I,{anchor:"top middle",self:"bottom middle"},{default:a(()=>[r("img",{src:l.row.image,style:{"max-width":"200px","max-height":"200px","border-radius":"8px"}},null,8,yo)]),_:2},1024),r("img",{src:l.row.image,style:{width:"40px",height:"40px","object-fit":"cover","border-radius":"6px",cursor:"pointer",border:"1px solid #eee"}},null,8,bo)]),_:2},1024)]),"body-cell-price":a(l=>[t(p,{align:"center"},{default:a(()=>[r("span",null,c(l.row.price),1)]),_:2},1024)]),"body-cell-actions":a(l=>[t(p,{align:"center"},{default:a(()=>[t(s,{size:"sm",color:"primary",flat:"",icon:"edit",onClick:xe=>z(l.row),round:"",dense:""},null,8,["onClick"]),t(s,{size:"sm",color:"negative",flat:"",icon:"delete",onClick:xe=>W(l.row),round:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:1},8,["rows","pagination"]),t(F,{modelValue:e.value.visible,"onUpdate:modelValue":o[8]||(o[8]=l=>e.value.visible=l)},{default:a(()=>[t(E,{style:{"min-width":"350px","max-width":"90vw"}},{default:a(()=>[t(m,null,{default:a(()=>[r("div",ho,c(e.value.mode==="add"?"ìƒí’ˆ ì¶”ê°€":"ìƒí’ˆ ìˆ˜ì •"),1)]),_:1}),t(m,null,{default:a(()=>[t(d,{modelValue:e.value.form.category,"onUpdate:modelValue":o[1]||(o[1]=l=>e.value.form.category=l),options:u.value.filter(l=>l.value!=="ì „ì²´"),label:"ì¹´í…Œê³ ë¦¬",dense:"",outlined:"",class:"q-mb-sm","emit-value":"","map-options":""},null,8,["modelValue","options"]),t(x,{modelValue:e.value.form.url,"onUpdate:modelValue":o[2]||(o[2]=l=>e.value.form.url=l),label:"ìƒí’ˆ URL",dense:"",outlined:"",class:"q-mb-sm",autofocus:""},null,8,["modelValue"]),t(x,{modelValue:e.value.form.name,"onUpdate:modelValue":o[3]||(o[3]=l=>e.value.form.name=l),label:"ìƒí’ˆëª…",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(s,{color:"primary",label:"ìƒí’ˆ ì •ë³´ ê°€ì ¸ì˜¤ê¸°",class:"q-mb-md",onClick:J,unelevated:""}),e.value.infoVisible?($(),me("div",wo,[r("div",xo,[r("div",qo,[e.value.form.image?($(),Q(I,{key:0},{default:a(()=>[r("img",{src:e.value.form.image,style:{width:"220px",height:"220px","object-fit":"contain","border-radius":"12px",border:"1px solid #eee",background:"#fff"}},null,8,ko)]),_:1})):R("",!0),e.value.form.image?j(($(),me("img",{key:1,src:e.value.form.image,style:{width:"60px",height:"60px","object-fit":"cover","border-radius":"8px",border:"1px solid #eee",cursor:"pointer"}},null,8,Io)),[[we]]):R("",!0)])]),t(x,{modelValue:e.value.form.code,"onUpdate:modelValue":o[4]||(o[4]=l=>e.value.form.code=l),label:"ìƒí’ˆ ë²ˆí˜¸",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(x,{modelValue:e.value.form.desc,"onUpdate:modelValue":o[5]||(o[5]=l=>e.value.form.desc=l),label:"ìƒí’ˆ ì„¤ëª…",dense:"",outlined:"",class:"q-mb-sm",type:"textarea",autogrow:""},null,8,["modelValue"]),t(x,{modelValue:e.value.form.price,"onUpdate:modelValue":o[6]||(o[6]=l=>e.value.form.price=l),label:"ìƒí’ˆ ê°€ê²©",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"]),t(x,{modelValue:e.value.form.affiliateUrl,"onUpdate:modelValue":o[7]||(o[7]=l=>e.value.form.affiliateUrl=l),label:"ìƒí’ˆ ì œíœ´ URL",dense:"",outlined:"",class:"q-mb-sm"},null,8,["modelValue"])])):R("",!0)]),_:1}),t(P,{align:"center",class:"q-gutter-sm q-mt-sm q-mb-md"},{default:a(()=>[j(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[K]]),t(s,{color:"primary",label:e.value.mode==="add"?"ì¶”ê°€":"ìˆ˜ì •",onClick:C,rounded:"",unelevated:"",class:"q-px-lg"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(F,{modelValue:q.value.visible,"onUpdate:modelValue":o[9]||(o[9]=l=>q.value.visible=l)},{default:a(()=>[t(E,null,{default:a(()=>[t(m,{class:"row items-center justify-center"},{default:a(()=>[t(ie,{name:"help",color:"primary",class:"q-mr-sm",size:"sm"}),r("span",Po,c(q.value.mode==="add"?"ìƒí’ˆì„ ì¶”ê°€":"ìƒí’ˆì„ ìˆ˜ì •")+" í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",1)]),_:1}),t(P,{align:"center",class:"q-gutter-sm q-mb-md"},{default:a(()=>[j(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[K]]),t(s,{color:"primary",label:"í™•ì¸",onClick:O,rounded:"",unelevated:"",class:"q-px-lg"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(F,{modelValue:g.value.visible,"onUpdate:modelValue":o[11]||(o[11]=l=>g.value.visible=l)},{default:a(()=>[t(E,{style:{"min-width":"400px","max-width":"90vw"}},{default:a(()=>[t(m,null,{default:a(()=>[r("div",Vo,[t(ie,{name:"delete",color:"negative",class:"q-mr-sm"}),o[13]||(o[13]=T(" ìƒí’ˆ ì‚­ì œ í™•ì¸ "))])]),_:1}),g.value.row?($(),Q(m,{key:0},{default:a(()=>[o[19]||(o[19]=r("div",{class:"text-subtitle2 q-mb-md"},"ë‹¤ìŒ ìƒí’ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)),r("div",Co,[r("div",Uo,[r("img",{src:g.value.row.image,style:{width:"100px",height:"100px","object-fit":"cover","border-radius":"8px",border:"1px solid #eee"},onError:o[10]||(o[10]=l=>l.target.src="https://via.placeholder.com/100x100?text=No+Image")},null,40,To)]),r("div",So,[r("div",Ao,[r("div",Oo,[r("div",Do,c(g.value.row.name),1)]),r("div",Eo,[o[14]||(o[14]=r("div",{class:"text-caption text-grey-6"},"ì¹´í…Œê³ ë¦¬",-1)),r("div",Lo,c(g.value.row.category),1)]),r("div",No,[o[15]||(o[15]=r("div",{class:"text-caption text-grey-6"},"ìƒí’ˆ ì½”ë“œ",-1)),r("div",$o,c(g.value.row.code),1)]),r("div",Bo,[o[16]||(o[16]=r("div",{class:"text-caption text-grey-6"},"ê°€ê²©",-1)),r("div",Mo,c(g.value.row.price),1)]),r("div",Ro,[o[17]||(o[17]=r("div",{class:"text-caption text-grey-6"},"ìƒí’ˆ ì„¤ëª…",-1)),r("div",jo,c(g.value.row.desc),1)]),r("div",Ho,[o[18]||(o[18]=r("div",{class:"text-caption text-grey-6"},"í”„ë¡œëª¨ì…˜ URL",-1)),r("div",zo,[r("a",{href:g.value.row.promotionUrl,target:"_blank",style:{color:"#1976d2","text-decoration":"underline"}},c(g.value.row.promotionUrl),9,Wo)])])])])])]),_:1,__:[19]})):R("",!0),t(P,{align:"right",class:"q-gutter-sm q-pa-md"},{default:a(()=>[j(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[K]]),t(s,{color:"negative",label:"ì‚­ì œ",onClick:te,rounded:"",unelevated:"",class:"q-px-lg",loading:N.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(F,{modelValue:y.value.visible,"onUpdate:modelValue":o[12]||(o[12]=l=>y.value.visible=l)},{default:a(()=>[t(E,null,{default:a(()=>[t(m,{class:"row items-center justify-center"},{default:a(()=>[t(ie,{name:"delete",color:"negative",class:"q-mr-sm",size:"sm"}),o[20]||(o[20]=r("span",{class:"text-subtitle1"},"ì •ë§ë¡œ ì´ ìƒí’ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1))]),_:1,__:[20]}),y.value.row?($(),Q(m,{key:0,class:"text-center"},{default:a(()=>[r("div",Fo,c(y.value.row.name),1),r("div",Ko,"ì¹´í…Œê³ ë¦¬: "+c(y.value.row.category),1),r("div",Qo,"Ali ìƒí’ˆ ID: "+c(y.value.row.aliProductId),1),r("div",Go,"ìƒí’ˆ ì½”ë“œ: "+c(y.value.row.code),1)]),_:1})):R("",!0),t(P,{align:"center",class:"q-gutter-sm q-mb-md"},{default:a(()=>[j(t(s,{color:"grey-5","text-color":"dark",label:"ì·¨ì†Œ",rounded:"",unelevated:"",class:"q-px-lg"},null,512),[[K]]),t(s,{color:"negative",label:"ì‚­ì œ",onClick:ae,rounded:"",unelevated:"",class:"q-px-lg",loading:N.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},dt=Ge(Xo,[["__scopeId","data-v-b6116f28"]]);export{dt as default};
