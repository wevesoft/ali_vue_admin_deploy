import{r as g,J as b,o as V,K as L,C as t,L as B,y as I,B as o,_ as k,z as n,M as N,N as A,O as C,P as S,Q as z,D as G,R as $}from"./DOs4IK1W.js";import{signInWithGoogle as O}from"./Dlmn4I_T.js";import{u as P}from"./4SQwc3Ki.js";import{_ as U}from"./DlAUqK2U.js";import{_ as M,a as R}from"./BYWdg5b6.js";import{_ as D}from"./9Zwq7gjS.js";const E={class:"row flex-center q-my-md"},J={class:"divider-wrap"},K={class:"row items-center no-wrap"},Q={class:"col",style:{"margin-left":"2px"}},T={class:"col"},W={__name:"login",setup(j){const a=g(""),l=g(""),_=B(),d=b(),{apiBase:x}=P();V(async()=>{console.log("üîê Login page mounted")});const f=async()=>{const{token:i,user:e}=await O();$.post(`${x}/auth/google`,null,{headers:{Authorization:`Bearer ${i}`},withCredentials:!0}).then(s=>{console.log("Î∞±ÏóîÎìú ÏùëÎãµ: ",s.data),s.data.result===!0&&(d.setLoggedIn(),_.push("/dashboard"))}).catch(s=>{console.log("Î∞±ÏóîÎìú ÏùëÎãµ: ",s.data),d.setLoggedOut(),_.push("/login")})},h=()=>{a.value==="admin"&&l.value==="password"?(d.setLoggedIn(),_.push("/dashboard")):alert("Invalid credentials")};return(i,e)=>{const s=N,c=A,u=C,p=S,m=z,v=k,y=D,w=R,q=M;return I(),L(q,null,{default:t(()=>[o(w,null,{default:t(()=>[o(y,{class:"flex flex-center"},{default:t(()=>[o(v,{style:{width:"300px"}},{default:t(()=>[o(s,null,{default:t(()=>e[2]||(e[2]=[n("div",{class:"text-h6 text-center"},"Login",-1)])),_:1,__:[2]}),o(s,null,{default:t(()=>[o(c,{outlined:"",dense:"",modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),label:"Username",class:"q-mb-md"},null,8,["modelValue"]),o(c,{outlined:"",dense:"",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),label:"Password",type:"password"},null,8,["modelValue"]),o(u,{align:"center"}),o(p,{color:"primary",label:"Î°úÍ∑∏Ïù∏",onClick:h,class:"full-width q-mb-md",style:{height:"44px","font-size":"16px"}})]),_:1}),n("div",E,[n("div",J,[n("div",K,[n("div",Q,[o(m)]),e[3]||(e[3]=n("div",{class:"col-auto text-grey q-mx-sm",style:{"margin-top":"2px","margin-bottom":"2px"}},"SNS LOGIN",-1)),n("div",T,[o(m)])])])]),o(u,{align:"center"},{default:t(()=>[o(p,{class:"full-width google-btn",style:{background:"#fff",color:"#444",border:"1px solid #ddd",height:"44px","font-size":"16px"},onClick:f},{default:t(()=>e[4]||(e[4]=[n("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",style:{height:"24px","margin-right":"8px","vertical-align":"middle"}},null,-1),G(" Google Î°úÍ∑∏Ïù∏ ")])),_:1,__:[4]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},eo=U(W,[["__scopeId","data-v-d7dd861a"]]);export{eo as default};
